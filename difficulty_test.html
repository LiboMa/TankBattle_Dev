<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>âš”ï¸ æ¸¸æˆéš¾åº¦è®¾ç½®æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: #1a1a1a;
            color: #00ff00;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #ffff00;
            text-shadow: 0 0 10px #ffff00;
        }
        
        .difficulty-table {
            background: #2a2a2a;
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 10px 0;
        }
        
        th, td {
            border: 1px solid #666;
            padding: 8px 12px;
            text-align: center;
        }
        
        th {
            background: #333;
            color: #ffff00;
            font-weight: bold;
        }
        
        td {
            background: #2a2a2a;
        }
        
        .level-header {
            background: #0066cc !important;
            color: white !important;
            font-weight: bold;
        }
        
        .increase-cell {
            background: #004400 !important;
            color: #00ff00 !important;
        }
        
        .no-change-cell {
            background: #444400 !important;
            color: #ffff00 !important;
        }
        
        .stats-panel {
            background: #2a2a2a;
            border: 2px solid #ff6600;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-box {
            background: #333;
            border: 1px solid #666;
            border-radius: 5px;
            padding: 15px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 20px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .stat-label {
            color: #ccc;
            font-size: 12px;
        }
        
        .formula-box {
            background: #1a1a1a;
            border: 1px solid #666;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
            font-family: monospace;
        }
        
        .highlight {
            color: #ffff00;
            font-weight: bold;
        }
        
        .chart-container {
            background: #2a2a2a;
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .progress-bar {
            background: #333;
            border-radius: 5px;
            height: 20px;
            margin: 5px 0;
            overflow: hidden;
            position: relative;
        }
        
        .progress-fill {
            height: 100%;
            transition: width 0.3s ease;
        }
        
        .progress-label {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>âš”ï¸ æ¸¸æˆéš¾åº¦è®¾ç½®æµ‹è¯•</h1>
        
        <div class="stats-panel">
            <h3>ğŸ“Š æ–°éš¾åº¦ç³»ç»Ÿæ¦‚è§ˆ</h3>
            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-value highlight">20%</div>
                    <div class="stat-label">æ¯çº§é€’å¢ç‡</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value highlight">8</div>
                    <div class="stat-label">æ€»å…³å¡æ•°</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value highlight">éš”çº§</div>
                    <div class="stat-label">è¡€é‡/æ”»é€Ÿå¢é•¿</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value highlight">æ¯çº§</div>
                    <div class="stat-label">æ•Œäººæ•°é‡å¢é•¿</div>
                </div>
            </div>
            
            <div class="formula-box">
                <h4>ğŸ§® è®¡ç®—å…¬å¼:</h4>
                <p><span class="highlight">æ•Œäººæ•°é‡</span>: Level N = Level (N-1) Ã— 1.2</p>
                <p><span class="highlight">è¡€é‡/æ”»é€Ÿ</span>: ä»…åœ¨å¥‡æ•°å…³å¡ (1,3,5,7) å¢åŠ  20%</p>
                <p><span class="highlight">åŸºç¡€å€¼</span>: Level 1 = 60æ•Œäºº, 25è¡€é‡, 2.0ç§’æ”»å‡»é—´éš”</p>
            </div>
        </div>
        
        <div class="difficulty-table">
            <h3>ğŸ“‹ è¯¦ç»†éš¾åº¦é…ç½®è¡¨</h3>
            <table id="difficulty-table">
                <thead>
                    <tr>
                        <th>å…³å¡</th>
                        <th>æ•Œäººæ•°é‡</th>
                        <th>æ•°é‡å¢é•¿</th>
                        <th>æ•Œäººè¡€é‡</th>
                        <th>è¡€é‡å˜åŒ–</th>
                        <th>æ”»å‡»é—´éš”(ç§’)</th>
                        <th>æ”»é€Ÿå˜åŒ–</th>
                        <th>ç§»åŠ¨é€Ÿåº¦</th>
                        <th>åŒæ—¶æ•Œäººæ•°</th>
                    </tr>
                </thead>
                <tbody id="difficulty-tbody">
                    <!-- è¡¨æ ¼å†…å®¹å°†ç”±JavaScriptç”Ÿæˆ -->
                </tbody>
            </table>
        </div>
        
        <div class="chart-container">
            <h3>ğŸ“ˆ éš¾åº¦å¢é•¿è¶‹åŠ¿å›¾</h3>
            <div id="charts-container">
                <!-- å›¾è¡¨å°†ç”±JavaScriptç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <script src="game_config.js"></script>
    <script>
        // æ–°çš„éš¾åº¦é…ç½®æ•°æ®
        const difficultyData = [
            { level: 1, enemies: 60, health: 25, shootInterval: 2.0, speed: 50, maxEnemies: 3 },
            { level: 2, enemies: 72, health: 25, shootInterval: 2.0, speed: 60, maxEnemies: 4 },
            { level: 3, enemies: 86, health: 30, shootInterval: 1.67, speed: 70, maxEnemies: 5 },
            { level: 4, enemies: 103, health: 30, shootInterval: 1.67, speed: 80, maxEnemies: 6 },
            { level: 5, enemies: 124, health: 36, shootInterval: 1.39, speed: 90, maxEnemies: 7 },
            { level: 6, enemies: 149, health: 36, shootInterval: 1.39, speed: 100, maxEnemies: 8 },
            { level: 7, enemies: 179, health: 43, shootInterval: 1.16, speed: 110, maxEnemies: 10 },
            { level: 8, enemies: 215, health: 43, shootInterval: 1.16, speed: 120, maxEnemies: 12 }
        ];
        
        function generateDifficultyTable() {
            const tbody = document.getElementById('difficulty-tbody');
            
            difficultyData.forEach((data, index) => {
                const row = document.createElement('tr');
                
                // è®¡ç®—å¢é•¿ç‡
                const prevData = index > 0 ? difficultyData[index - 1] : null;
                const enemyGrowth = prevData ? ((data.enemies - prevData.enemies) / prevData.enemies * 100).toFixed(1) + '%' : '-';
                const healthChange = prevData ? (data.health === prevData.health ? 'ä¸å˜' : `+${((data.health - prevData.health) / prevData.health * 100).toFixed(1)}%`) : '-';
                const speedChange = prevData ? (data.shootInterval === prevData.shootInterval ? 'ä¸å˜' : `+${((prevData.shootInterval - data.shootInterval) / prevData.shootInterval * 100).toFixed(1)}%`) : '-';
                
                // åˆ¤æ–­æ˜¯å¦ä¸ºå¢é•¿å…³å¡
                const isHealthIncrease = data.level % 2 === 1 && data.level > 1;
                const isSpeedIncrease = data.level % 2 === 1 && data.level > 1;
                
                row.innerHTML = `
                    <td class="level-header">Level ${data.level}</td>
                    <td>${data.enemies}</td>
                    <td class="increase-cell">${enemyGrowth}</td>
                    <td>${data.health}</td>
                    <td class="${isHealthIncrease ? 'increase-cell' : 'no-change-cell'}">${healthChange}</td>
                    <td>${data.shootInterval}</td>
                    <td class="${isSpeedIncrease ? 'increase-cell' : 'no-change-cell'}">${speedChange}</td>
                    <td>${data.speed}</td>
                    <td>${data.maxEnemies}</td>
                `;
                
                tbody.appendChild(row);
            });
        }
        
        function generateCharts() {
            const container = document.getElementById('charts-container');
            
            // æ•Œäººæ•°é‡è¶‹åŠ¿
            const enemyChart = createChart('æ•Œäººæ•°é‡å¢é•¿', difficultyData.map(d => d.enemies), '#ff6600');
            container.appendChild(enemyChart);
            
            // è¡€é‡è¶‹åŠ¿
            const healthChart = createChart('æ•Œäººè¡€é‡å˜åŒ–', difficultyData.map(d => d.health), '#00ff00');
            container.appendChild(healthChart);
            
            // æ”»å‡»é€Ÿåº¦è¶‹åŠ¿ (è½¬æ¢ä¸ºæ”»å‡»é¢‘ç‡)
            const attackChart = createChart('æ”»å‡»é¢‘ç‡ (æ¬¡/ç§’)', difficultyData.map(d => (1/d.shootInterval).toFixed(2)), '#ffff00');
            container.appendChild(attackChart);
        }
        
        function createChart(title, data, color) {
            const chartDiv = document.createElement('div');
            chartDiv.style.marginBottom = '30px';
            
            const titleDiv = document.createElement('h4');
            titleDiv.textContent = title;
            titleDiv.style.color = color;
            chartDiv.appendChild(titleDiv);
            
            const maxValue = Math.max(...data.map(d => parseFloat(d)));
            
            data.forEach((value, index) => {
                const barContainer = document.createElement('div');
                barContainer.style.display = 'flex';
                barContainer.style.alignItems = 'center';
                barContainer.style.marginBottom = '5px';
                
                const label = document.createElement('span');
                label.textContent = `L${index + 1}`;
                label.style.width = '30px';
                label.style.color = '#ccc';
                
                const progressBar = document.createElement('div');
                progressBar.className = 'progress-bar';
                progressBar.style.width = '300px';
                progressBar.style.marginLeft = '10px';
                
                const progressFill = document.createElement('div');
                progressFill.className = 'progress-fill';
                progressFill.style.backgroundColor = color;
                progressFill.style.width = `${(parseFloat(value) / maxValue) * 100}%`;
                
                const progressLabel = document.createElement('div');
                progressLabel.className = 'progress-label';
                progressLabel.textContent = value;
                
                progressBar.appendChild(progressFill);
                progressBar.appendChild(progressLabel);
                
                barContainer.appendChild(label);
                barContainer.appendChild(progressBar);
                
                chartDiv.appendChild(barContainer);
            });
            
            return chartDiv;
        }
        
        function validateDifficultyProgression() {
            console.log('ğŸ” éªŒè¯éš¾åº¦é€’å¢é€»è¾‘...');
            
            // éªŒè¯æ•Œäººæ•°é‡20%é€’å¢
            for (let i = 1; i < difficultyData.length; i++) {
                const prev = difficultyData[i - 1].enemies;
                const curr = difficultyData[i].enemies;
                const expectedIncrease = Math.round(prev * 1.2);
                const actualIncrease = curr;
                
                if (Math.abs(actualIncrease - expectedIncrease) <= 1) { // å…è®¸1çš„è¯¯å·®
                    console.log(`âœ… Level ${i + 1} æ•Œäººæ•°é‡é€’å¢æ­£ç¡®: ${prev} â†’ ${curr} (æœŸæœ›: ${expectedIncrease})`);
                } else {
                    console.log(`âŒ Level ${i + 1} æ•Œäººæ•°é‡é€’å¢å¼‚å¸¸: ${prev} â†’ ${curr} (æœŸæœ›: ${expectedIncrease})`);
                }
            }
            
            // éªŒè¯è¡€é‡å’Œæ”»é€Ÿéš”çº§å¢é•¿
            for (let i = 0; i < difficultyData.length; i++) {
                const level = i + 1;
                const isOddLevel = level % 2 === 1;
                
                if (level > 1) {
                    const prev = difficultyData[i - 1];
                    const curr = difficultyData[i];
                    
                    if (isOddLevel) {
                        // å¥‡æ•°å…³å¡åº”è¯¥å¢é•¿
                        if (curr.health > prev.health && curr.shootInterval < prev.shootInterval) {
                            console.log(`âœ… Level ${level} è¡€é‡å’Œæ”»é€Ÿæ­£ç¡®å¢é•¿`);
                        } else {
                            console.log(`âŒ Level ${level} è¡€é‡å’Œæ”»é€Ÿåº”è¯¥å¢é•¿ä½†æœªå¢é•¿`);
                        }
                    } else {
                        // å¶æ•°å…³å¡åº”è¯¥ä¿æŒä¸å˜
                        if (curr.health === prev.health && curr.shootInterval === prev.shootInterval) {
                            console.log(`âœ… Level ${level} è¡€é‡å’Œæ”»é€Ÿæ­£ç¡®ä¿æŒä¸å˜`);
                        } else {
                            console.log(`âŒ Level ${level} è¡€é‡å’Œæ”»é€Ÿåº”è¯¥ä¿æŒä¸å˜ä½†å‘ç”Ÿäº†å˜åŒ–`);
                        }
                    }
                }
            }
        }
        
        // åˆå§‹åŒ–
        window.addEventListener('load', () => {
            generateDifficultyTable();
            generateCharts();
            validateDifficultyProgression();
            
            console.log('âš”ï¸ éš¾åº¦è®¾ç½®æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
            console.log('ğŸ“Š æ–°éš¾åº¦ç³»ç»Ÿ: 20%é˜¶æ¢¯é€’å¢ï¼Œè¡€é‡/æ”»é€Ÿéš”çº§å¢é•¿');
        });
    </script>
</body>
</html>
